{"version":3,"sources":["webpack:///C:/javascript/uniapp/meituan/main.js","webpack:///C:/javascript/uniapp/meituan/pages/placeorder/placeorder.vue?50e0","webpack:///C:/javascript/uniapp/meituan/pages/placeorder/placeorder.vue?00fc","webpack:///C:/javascript/uniapp/meituan/pages/placeorder/placeorder.vue?42c3","webpack:///C:/javascript/uniapp/meituan/pages/placeorder/placeorder.vue?acfd","webpack:///C:/javascript/uniapp/meituan/pages/placeorder/placeorder.vue","webpack:///C:/javascript/uniapp/meituan/pages/placeorder/placeorder.vue?70a2","webpack:///C:/javascript/uniapp/meituan/pages/placeorder/placeorder.vue?3478"],"names":["createPage","Page","api","API","components","HMmessages","data","allorder","busidata","Takeawayprice","Takeleng","address","undefined","methods","onInit","pages","getCurrentPages","curpage","length","info","$vm","console","log","$children","f1","find","v","identification","num","physical","parseFloat","toFixed","map","indexs","amount","_id","objdis","input","image","Discount","np","Totalprice","price","openid","toPay","tip","title","icon","tips","wxPay","provinceName","cityName","countyName","detailInfo","userName","telNumber","logo","shop","peopleobj","name","iphone","arrinfo","useropenid","uni","getStorageSync","ide","substring","param","type","merchantid","commod","payment","pwxpayingurl","wpay1","res1","errMsg","wpay2","datas","res2","wpay3","res3","showToast","mask","duration","position","Promise","resolve","reject","postwxpayingurl","then","res","hideToast","catch","err","requestPayment","provider","timeStamp","time_stamp","nonceStr","signType","paySign","payauto","package","success","fail","p","out_trade_no","id","onaddres","that","chooseAddress","setStorageSync","getaddres","fontColor","iconColor","background","show","onLoad","e"],"mappings":"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","file":"pages/placeorder/placeorder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/placeorder/placeorder.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./placeorder.vue?vue&type=template&id=d80833cc&\"\nimport script from \"./placeorder.vue?vue&type=script&lang=js&\"\nexport * from \"./placeorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./placeorder.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\ps\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('d80833cc', component.options)\n    } else {\n      api.reload('d80833cc', component.options)\n    }\n    module.hot.accept(\"./placeorder.vue?vue&type=template&id=d80833cc&\", function () {\n      api.rerender('d80833cc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"javascript/uniapp/meituan/pages/placeorder/placeorder.vue\"\nexport default component.exports","export * from \"-!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=template&id=d80833cc&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n// 引入提示组件\r\nimport HMmessages from '@/components/HM-messages/HM-messages.vue';\r\n// post\r\nimport { API } from '../../api/request.js';\r\nconst api = new API();\r\nexport default {\r\n\tcomponents: { HMmessages },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tallorder: [],\r\n\t\t\tbusidata: {},\r\n\t\t\t// 总价\r\n\t\t\tTakeawayprice: '',\r\n\t\t\t// 选择的商品\r\n\t\t\tTakeleng: [],\r\n\t\t\t// 地址\r\n\t\t\taddress: undefined\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tonInit() {\r\n\t\t\tvar pages = getCurrentPages(); //当前页面栈\r\n\t\t\tconst curpage = pages[pages.length - 2];\r\n\t\t\tconst info = curpage.$vm;\r\n\t\t\tconsole.log(info, info.$children);\r\n\t\t\tthis.busidata = info.busidata;\r\n\t\t\tconst f1 = info.$children.find(v => v.identification && v.identification === 1);\r\n\t\t\tconsole.log(f1);\r\n\t\t\tconst num = f1.Takeawayprice + info.busidata.physical;\r\n\t\t\tthis.Takeawayprice = parseFloat(num.toFixed(10));\r\n\t\t\tthis.Takeleng = f1.Takeleng.map((v, indexs) => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tamount,\r\n\t\t\t\t\t_id,\r\n\t\t\t\t\tobjdis: { input, image, Discount }\r\n\t\t\t\t} = v;\r\n\t\t\t\tconst np = amount * Discount;\r\n\t\t\t\tconst Totalprice = parseFloat(np.toFixed(10));\r\n\t\t\t\treturn {\r\n\t\t\t\t\tinput,\r\n\t\t\t\t\tamount,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice: Discount,\r\n\t\t\t\t\tTotalprice,\r\n\t\t\t\t\tindexs:v.openid\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 去支付\r\n\t\ttoPay() {\r\n\t\t\t// 支付之前判断客户是否选择了收货地址\r\n\t\t\tif (!this.address) {\r\n\t\t\t\tconst tip = { title: '请填写收货地址', icon: 'error' };\r\n\t\t\t\treturn this.tips(tip);\r\n\t\t\t}\r\n\t\t\tthis.wxPay();\r\n\t\t},\r\n\t\t// 微信支付\r\n\t\twxPay() {\r\n\t\t\tconst { provinceName, cityName, countyName, detailInfo, userName, telNumber } = this.address;\r\n\t\t\tconst { openid, logo, shop } = this.busidata;\r\n\t\t\tconst peopleobj = {\r\n\t\t\t\taddress: provinceName + cityName + countyName + detailInfo,\r\n\t\t\t\tname: userName,\r\n\t\t\t\tiphone: telNumber\r\n\t\t\t};\r\n\t\t\tconst arrinfo = this.Takeleng;\r\n\t\t\tconst useropenid = uni.getStorageSync('username').openid;\r\n\t\t\tconst ide = openid.substring(0, 7);\r\n\t\t\tconst param = {\r\n\t\t\t\tide,\r\n\t\t\t\tpeopleobj,\r\n\t\t\t\tarrinfo,\r\n\t\t\t\tlogo,\r\n\t\t\t\tuseropenid,\r\n\t\t\t\ttype: 'placeOrder',\r\n\t\t\t\tmerchantid: openid,\r\n\t\t\t\tcommod: shop,\r\n\t\t\t\tpayment: this.Takeawayprice\r\n\t\t\t};\r\n\t\t\t// 进行支付\r\n\t\t\tconsole.log(param);\r\n\t\t\tthis.pwxpayingurl(param);\r\n\t\t},\r\n\t\t// 进行支付\r\n\t\tasync pwxpayingurl(param) {\r\n\t\t\tconst res1 = await this.wpay1(param);\r\n\t\t\tif (res1.errMsg != 'request:ok') return;\r\n\t\t\tconst res2 = await this.wpay2(res1.data.datas);\r\n\t\t\tif(res2.errMsg!=\"request:ok\") return\r\n\t\t\tconst res3 = await this.wpay3(res1.data.datas, param);\r\n\t\t\tif (res3.errMsg != 'request:ok') return;\r\n\t\t},\r\n\t\t// 微信支付第一步\r\n\t\t// 请求获取支付信息\r\n\t\twpay1(param) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon:'loading',\r\n\t\t\t\tmask:true,\r\n\t\t\t\tduration:900000,\r\n\t\t\t\tposition:'center',\r\n\t\t\t\ttitle:'正在下单'\r\n\t\t\t})\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tapi.postwxpayingurl(param)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log('支付成功第一步', res);\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\treject('获取失败');\r\n\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 微信支付第二步\r\n\t\t// 发起支付\r\n\t\twpay2(info) {\r\n\t\t\tconsole.log(info, '看看');\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\ttimeStamp: info.time_stamp,\r\n\t\t\t\t\tnonceStr: info.nonceStr,\r\n\t\t\t\t\tsignType: 'MD5',\r\n\t\t\t\t\tpaySign: info.payauto,\r\n\t\t\t\t\tpackage: `prepay_id=${info._id}`,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log('支付成功第二步', res);\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tconst tip = { title: '取消支付', icon: 'success' };\r\n\t\t\t\t\t\t this.tips(tip);\r\n\t\t\t\t\t\treject('支付失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\twpay3(info, p) {\r\n\t\t\tconst param = {\r\n\t\t\t\ttype: 'paysucc',\r\n\t\t\t\tout_trade_no: info.out_trade_no,\r\n\t\t\t\tmerchantid: p.merchantid,\r\n\t\t\t\tid: info._id\r\n\t\t\t};\r\n\t\t\tconsole.log(param,\"看书\")\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tapi.postwxpayingurl(param)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconst tip = { title: '支付成功', icon: 'success' };\r\n\t\t\t\t\t\t this.tips(tip);\r\n\t\t\t\t\t\tconsole.log('支付成功第三步', res);\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\treject('支付失败，第三步');\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 跳转到收获地址\r\n\t\tonaddres() {\r\n\t\t\tconst that = this;\r\n\t\t\tuni.chooseAddress({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tthat.address = res;\r\n\t\t\t\t\tuni.setStorageSync('address', res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 地址获取\r\n\t\tgetaddres() {\r\n\t\t\tconst address = uni.getStorageSync('address');\r\n\r\n\t\t\tif (address) {\r\n\t\t\t\tconsole.log(address, '获取地址看看');\r\n\t\t\t\tthis.address = address;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 没填收获地址提示\r\n\t\ttips({ title, icon }) {\r\n\t\t\tconst info = { icon: icon, fontColor: '#ffffff', iconColor: '#ffffff', background: 'rgba(102,0,51,0.8)' };\r\n\t\t\tthis.HMmessages.show(title, info);\r\n\t\t}\r\n\t},\r\n\r\n\t// 接收下单页面的路径数据\r\n\tonLoad(e) {\r\n\t\tthis.onInit();\r\n\t\tthis.getaddres();\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../ps/ruanjian/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./placeorder.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}